<?xml version="1.0" encoding="UTF-8"?>
<document>
    <!-- ========== TRANSACTIONS ========== -->
    <!-- ========== DATA ========== -->
    <data type="text" immediate="true">
        <id>1</id>
        <title>Názov dokumentu</title>
    </data>
    <data type="file">
        <id>2</id>
        <title>Dokument</title>
        <!--Set create date-->
        <action trigger="set">
            <!--@formatter:off-->
            field: f.2,
            date: f.4;
            change date about {
                if (date.value != null)
                    return date.value;
                return new LocalDate();
            }
            <!--@formatter:on-->
        </action>
        <!--Set last edit date-->
        <action trigger="set">
            <!--@formatter:off-->
            field: f.2,
            date: f.5;
            change date about {
                return new LocalDate();
            }
            <!--@formatter:on-->
        </action>
    </data>
    <data type="text" immediate="true">
        <id>3</id>
        <title>Popis</title>
    </data>
    <data type="date">
        <id>4</id>
        <title>Dátum vytvorenia</title>
    </data>
    <data type="date" immediate="true">
        <id>5</id>
        <title>Dátum poslednej úpravy</title>
    </data>
    <!-- ========== ROLES ========== -->
    <role>
        <id>1</id>
        <name>Agent</name>
    </role>
    <role>
        <id>2</id>
        <name>Admin</name>
    </role>
    <!-- ========== PLACES ========== -->
    <place>
        <id>1</id>
        <x>100</x>
        <y>180</y>
        <label>in</label>
        <tokens>1</tokens>
        <isStatic>false</isStatic>
    </place>
    <place>
        <id>4</id>
        <x>340</x>
        <y>180</y>
        <label></label>
        <tokens>0</tokens>
        <isStatic>false</isStatic>
    </place>
    <place>
        <id>14</id>
        <x>660</x>
        <y>180</y>
        <label>out</label>
        <tokens>0</tokens>
        <isStatic>false</isStatic>
    </place>
    <!-- ========== TRANSITIONS ========== -->
    <transition>
        <id>2</id>
        <x>220</x>
        <y>180</y>
        <label>Nahrať nový</label>
        <roleRef>
            <id>2</id>
            <logic>
                <perform>true</perform>
            </logic>
        </roleRef>
        <dataGroup>
            <dataRef>
                <id>1</id>
                <logic>
                    <behavior>required</behavior>
                    <behavior>editable</behavior>
                </logic>
            </dataRef>
            <dataRef>
                <id>2</id>
                <logic>
                    <behavior>required</behavior>
                    <behavior>editable</behavior>
                </logic>
            </dataRef>
            <dataRef>
                <id>3</id>
                <logic>
                    <behavior>optional</behavior>
                    <behavior>editable</behavior>
                </logic>
            </dataRef>
        </dataGroup>
    </transition>
    <transition>
        <id>6</id>
        <x>420</x>
        <y>100</y>
        <label>Zobraziť</label>
        <roleRef>
            <id>1</id>
            <logic>
                <delegate>true</delegate>
            </logic>
        </roleRef>
        <roleRef>
            <id>1</id>
            <logic>
                <delegate>true</delegate>
            </logic>
        </roleRef>
        <dataGroup>
            <id>1</id>
            <title></title>
            <dataRef>
                <id>1</id>
                <logic>
                    <behavior>visible</behavior>
                </logic>
            </dataRef>
            <dataRef>
                <id>2</id>
                <logic>
                    <behavior>visible</behavior>
                </logic>
            </dataRef>
        </dataGroup>
        <dataGroup>
            <id>2</id>
            <title></title>
            <stretch>true</stretch>
            <dataRef>
                <id>3</id>
                <logic>
                    <behavior>visible</behavior>
                </logic>
            </dataRef>
        </dataGroup>
        <dataGroup>
            <id>3</id>
            <title></title>
            <dataRef>
                <id>4</id>
                <logic>
                    <behavior>visible</behavior>
                </logic>
            </dataRef>
            <dataRef>
                <id>5</id>
                <logic>
                    <behavior>visible</behavior>
                </logic>
            </dataRef>
        </dataGroup>
    </transition>
    <transition>
        <id>7</id>
        <x>420</x>
        <y>260</y>
        <label>Nahrať revíziu</label>
        <roleRef>
            <id>2</id>
            <logic>
                <perform>true</perform>
            </logic>
        </roleRef>
        <dataRef>
            <id>2</id>
            <logic>
                <behavior>editable</behavior>
                <behavior>required</behavior>
            </logic>
        </dataRef>
    </transition>
    <transition>
        <id>10</id>
        <x>500</x>
        <y>180</y>
        <label>Zmazať</label>
        <roleRef>
            <id>2</id>
            <logic>
                <perform>true</perform>
            </logic>
        </roleRef>
        <dataRef>
            <id>1</id>
            <logic>
                <behavior>visible</behavior>
            </logic>
        </dataRef>
        <dataRef>
            <id>2</id>
            <logic>
                <behavior>visible</behavior>
            </logic>
        </dataRef>
        <dataRef>
            <id>3</id>
            <logic>
                <behavior>visible</behavior>
            </logic>
        </dataRef>
    </transition>
    <!-- ========== ARCS ========== -->
    <arc>
        <id>3</id>
        <type>regular</type>
        <sourceId>1</sourceId>
        <destinationId>2</destinationId>
        <multiplicity>1</multiplicity>
    </arc>
    <arc>
        <id>5</id>
        <type>regular</type>
        <sourceId>2</sourceId>
        <destinationId>4</destinationId>
        <multiplicity>1</multiplicity>
    </arc>
    <arc>
        <id>8</id>
        <type>regular</type>
        <sourceId>4</sourceId>
        <destinationId>6</destinationId>
        <multiplicity>1</multiplicity>
    </arc>
    <arc>
        <id>9</id>
        <type>regular</type>
        <sourceId>4</sourceId>
        <destinationId>7</destinationId>
        <multiplicity>1</multiplicity>
    </arc>
    <arc>
        <id>11</id>
        <type>regular</type>
        <sourceId>6</sourceId>
        <destinationId>4</destinationId>
        <multiplicity>1</multiplicity>
    </arc>
    <arc>
        <id>12</id>
        <type>regular</type>
        <sourceId>7</sourceId>
        <destinationId>4</destinationId>
        <multiplicity>1</multiplicity>
    </arc>
    <arc>
        <id>13</id>
        <type>regular</type>
        <sourceId>4</sourceId>
        <destinationId>10</destinationId>
        <multiplicity>1</multiplicity>
    </arc>
    <arc>
        <id>15</id>
        <type>regular</type>
        <sourceId>10</sourceId>
        <destinationId>14</destinationId>
        <multiplicity>1</multiplicity>
    </arc>
</document>