<?xml version="1.0" encoding="UTF-8"?>
<document xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="../../main/resources/petriNets/petriflow_schema.xsd">
    <id>case_multichoice_test.xml</id>
    <initials>TST</initials>
    <title>Test</title>
    <defaultRole>true</defaultRole>

    <data type="multichoice">
        <id>deprecated_multi</id>
        <title>Deprecated multi</title>
        <values>Choice 1</values>
        <values>Choice 2</values>
        <values>Choice 3</values>
    </data>
    <data type="multichoice">
        <id>multi</id>
        <title>Multi</title>
        <options>
            <option key="key_1">Choice 1</option>
            <option key="key_2">Choice 2</option>
            <option key="key_3">Choice 3</option>
        </options>
    </data>
    <data type="boolean">
        <id>bool_1</id>
        <title>Switch</title>
        <action trigger="set">
            <!-- @formatter:off -->
            multi: f.deprecated_multi,
            check: f.this;

            change multi choices {
                if (check.value)
                    return ["Choice 1","Choice 2","Choice 3"]
                return ["Choice A","Choice B","Choice C"]
            }
            <!-- @formatter:on -->
        </action>
    </data>
    <data type="boolean">
        <id>bool_2</id>
        <title>Switch</title>
        <action trigger="set">
            multi: f.multi,
            check: f.this;

            change multi choices {
                if (check.value)
                    return ["key_1":"Choice 1", "key_2":"Choice 2", "key_3":"Choice 3"]
                return ["key_a":"Choice A", "key_b":"Choice B", "key_c":"Choice C"]
            }
        </action>
    </data>
    <data type="boolean">
        <id>bool_3</id>
        <title>Switch</title>
        <action trigger="set">
            multi: f.multi,
            check: f.this;

            if(check.value)
                change multi value { "key_1" }
            change multi value { ["key_1", "key_2"] }
        </action>
    </data>

    <transition>
        <id>1</id>
        <x>1</x>
        <y>1</y>
        <label>Tran</label>
        <dataGroup>
            <id>1</id>
            <dataRef>
                <id>bool_1</id>
                <logic>
                    <behavior>editable</behavior>
                </logic>
            </dataRef>
            <dataRef>
                <id>bool_2</id>
                <logic>
                    <behavior>editable</behavior>
                </logic>
            </dataRef>
            <dataRef>
                <id>bool_3</id>
                <logic>
                    <behavior>editable</behavior>
                </logic>
            </dataRef>
            <dataRef>
                <id>deprecated_multi</id>
                <logic>
                    <behavior>editable</behavior>
                </logic>
            </dataRef>
            <dataRef>
                <id>multi</id>
                <logic>
                    <behavior>editable</behavior>
                </logic>
            </dataRef>
        </dataGroup>
    </transition>
</document>